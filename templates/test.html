{% extends "base.html" %}
{% block title %}Cuestionario Big Five (60 ítems){% endblock %}

{% block content %}
<h1>Big Five - Cuestionario de 60 ítems</h1>
<p class="muted">{{ spec.scale.label }}</p>

<form class="card grid" method="post" action="/test">
  <label>Nombre o apodo
    <input type="text" name="nickname" value="{{ (prev.nickname if prev else '') | default('') }}">
  </label>

  <label>Email (opcional)
    <input type="email" name="email" value="{{ (prev.email if prev else '') | default('') }}">
  </label>

  {# — Doble espacio entre preguntas — #}
  <style>
    .row { margin: 24px 0; }        /* aumenta si quieres más espacio */
    .qtext { margin-bottom: 8px; }
    .scale label { margin-right: 10px; }
  </style>

  {% for item in items %}
    <div class="row">
      <div class="qtext"><strong>{{ item.id }}.</strong> {{ item.text }}</div>
      <div class="scale">
        {% for opt in spec.scale.options %}
          {# nombre q<ID> y valor la opción #}
          <label>
            <input type="radio"
                   name="q{{ item.id }}"
                   value="{{ opt.value }}"
                   {% if prev and prev['q' ~ item.id] == opt.value|string %}checked{% endif %}
                   required>
            {{ opt.value }}
          </label>
        {% endfor %}
      </div>
    </div>
  {% endfor %}

  <button class="btn" type="submit">Enviar</button>
</form>
{% endblock %}
