{% extends "base.html" %}

{% block title %}{{ spec.title }}{% endblock %}

{% block content %}
<h1>{{ spec.title }}</h1>
<p class="muted">{{ spec.scale.label }}</p>

<form class="card grid" method="post" action="{{ url_for('test') }}">
  <label>Nombre o apodo
    <input type="text" name="nickname" maxlength="120">
  </label>

  <label>Email (opcional)
    <input type="email" name="email" maxlength="320">
  </label>

  {% for item in spec['items'] %}
    <div class="row">
      <div class="qtext"><strong>{{ item.id }}.</strong> {{ item.text }}</div>
      <div class="scale">
        {% for n in range(spec.scale.min, spec.scale.max + 1) %}
          <label>
            <input
              type="radio"
              name="q{{ item.id }}"
              value="{{ n }}"
              required
              {% if prev and prev.get('q' ~ item.id) == n|string %}checked{% endif %}
            >
            {{ n }}
          </label>
        {% endfor %}
      </div>
    </div>
  {% endfor %}

  <button class="btn" type="submit">Enviar</button>
</form>

<p class="muted">Privacidad: tus respuestas pueden usarse de forma anónima con fines de evaluación. Puedes solicitar su eliminación.</p>
{% endblock %}
